---
lab:
    title: '가상 머신이 사전 설치된 랩 환경 설정'
    module: '모듈 0'
---

# 모듈 0 - 가상 머신이 사전 설치된 랩 환경 설정

다음 지침을 통해 학습자는 이어지는 모듈의 랩 환경을 준비할 수 있습니다. 모듈 1을 시작하기 전에 이러한 지침을 살펴보세요.

**소요되는 시간**: 아래 단계를 수행하고 자동화된 설정 스크립트를 완료하려면 5분 정도 걸립니다. 스크립트를 완료하는 데 1시간 이상 걸릴 수 있습니다.

> **참고**: 이러한 지침은 과정에서 제공하는 사전 설치된 가상 머신에서 사용하도록 설계되었습니다.

## 요구 사항

설정을 시작하기 전에 Azure Synapse Workspace를 만들 수 있는 Azure 계정이 필요합니다.

> **Azure Pass 구독을 사용하는 경우의 중요한 참고 사항**
>
> 만료된 Azure Pass 구독을 이전에 상환한 계정을 사용하는 경우 계정이 동일한 이름(*Azure Pass - Sponsorship*)의 여러 Azure 구독과 연결될 수 있습니다. 설정 단계를 시작하기 전에 다음 단계를 수행하여 이 이름의 최신 *활성* 구독만 사용되도록 하세요.
>
> 1. Azure Portal `https://portal.azure.com`을 열고 구독과 연결된 계정을 사용하여 로그인합니다.
> 2. 페이지 상단의 포털 도구 모음에서 **디렉터리 및 구독** 단추를 선택합니다.
> 3. **기본 구독 필터** 드롭다운 목록에서 **(사용 안 함) Azure Pass - Sponsorship** 구독을 모두 *선택 취소*하고, 사용할 활성 **Azure Pass - Sponsorship** 구독<u>만</u> 선택되도록 합니다.

## 설정 단계

다음 작업을 수행하여 랩을 위한 환경을 준비합니다.

1. Windows **검색** 상자를 사용하여 **Windows PowerShell**을 검색한 후에 관리자 권한으로 실행합니다.

    > **참고**: Windows PowerShell ISE이 <u>아니라</u> **Windows Powershell**을 실행해야 합니다. 그리고 관리자 권한으로 실행해야 합니다.

2. Windows PowerShell에서 다음 명령을 실행하여 필요한 과정 파일을 다운로드합니다. 몇 분 정도 걸릴 수 있습니다.

    ```
    mkdir c:\dp-203

    cd c:\dp-203

    git clone https://github.com/microsoftlearning/dp-203-data-engineer.git data-engineering-ilt-deployment
    ```

3. Windows PowerShell에서 로컬 PowerShell 스크립트 파일을 실행할 수 있도록 다음 명령을 실행하여 실행 정책을 설정합니다.

    ```
    Set-ExecutionPolicy Unrestricted
    ```

    > **참고**: 신뢰할 수 없는 리포지토리로부터 모듈을 설치하고 있다는 메시지가 나타나면 **A**를 입력하여 *모두 예* 옵션을 선택합니다.

4. Windows PowerShell에서 다음 명령을 실행하여 디렉터리를 자동화 스크립트를 포함하고 있는 폴더로 변경합니다.

    ```
    cd C:\dp-203\data-engineering-ilt-deployment\Allfiles\00\artifacts\environment-setup\automation\
    ```
    
5. Windows PowerShell에서 다음 명령을 입력하여 설정 스크립트를 실행합니다.

    ```
    .\dp-203-setup-Part01.ps1
    ```

6. Azure에 로그인하라는 메시지가 나타나고 브라우저가 열리면 본인의 자격 증명을 사용하여 로그인합니다. 로그인한 후에는 브라우저를 닫고 Windows PowerShell로 돌아갈 수 있습니다. 그러면 액세스 권한이 있는 Azure 구독이 표시됩니다.

7. 관련 메시지가 나타날 때 Azure 계정에 다시 로그인합니다. (스크립트가 Azure 구독에서 리소스를 관리할 수 있도록 하기 위해 필요합니다. 앞서와 동일한 자격 증명을 사용해야 합니다.)

8. Azure 구독이 여러 개인 경우에는 관련 메시지가 나타날 때 구독 목록에서 번호를 입력하여 랩에서 사용할 구독을 선택합니다.

9. 관련 메시지가 나타날 때, SQL Database에 대해 적절한 수준의 복잡한 암호를 입력합니다. (나중에 필요할 경우를 위해 이 암호를 메모해 놓으세요.)

스크립트가 실행되는 동안 강사가 과정의 첫 번째 모듈을 소개할 것입니다. 첫 번째 랩을 시작할 때 환경이 준비되어 있어야 합니다.

> **참고**: 스크립트를 완료하려면 약 45~60분이 걸립니다. 스크립트는 이름이 무작위로 생성되는 Azure 리소스를 만듭니다. 스크립트가 "멈춘 것"처럼 보이면(10분 동안 새 정보가 표시되지 않음) Enter 키를 누르고 오류 메시지를 확인하세요. 대개의 경우 스크립트는 문제없이 계속됩니다.  드문 경우지만 동일한 리소스 이름이 이미 사용 중이거나, 임의로 선택된 지역의 특정 리소스에 용량 제약이 있거나, 일시적인 네트워크 문제가 발생하여 오류를 일으킬 수도 있습니다. 그럴 경우에는 Azure Portal을 사용하여 스크립트가 생성한 **data-engineering-synapse-*xxxxxx*** 리소스 그룹을 삭제하고 스크립트를 다시 실행합니다.
>
> Azure Pass 구독의 **테넌트 ID**를 제공해야 한다는 내용의 오류가 표시되면 위 **요구 사항** 섹션에 나온 지침을 따라 원하는 Azure Pass 구독만 사용하도록 설정했는지 확인하세요.
